{"mappings":";;;;;;;;ACGA,MAAM,4BAAM,CAAA,GAAA,cAAM;AAElB,MAAM;AACN,MAAM,8BAAQ,KAAK,KAAK,CAAC;AAEzB,0BAAI,GAAG,CAAC,aAAa,CAAC,KAAK,KAAK;IAC/B,MAAM,MAAM,IAAI,MAAM,CAAC,GAAG;IAC1B,MAAM,MAAM,4BAAM,IAAI,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;IAC3C,IAAI,CAAC,KAAK;QACT,4BAAM,IAAI,CAAC;YACV,IAAI;YACJ,OAAO;QACR;QAEA,CAAA,GAAA,SAAC,EAAE,aAAa,CAAC,eAAe,KAAK,SAAS,CAAC;QAE/C,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACpB,IAAI;YACJ,OAAO;QACR;IACD;IAEA,IAAI,KAAK,IAAI;IACb,CAAA,GAAA,SAAC,EAAE,aAAa,CAAC,eAAe,KAAK,SAAS,CAAC;IAC/C,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QACpB,GAAG,GAAG;IACP;AACD;AAEA,0BAAI,GAAG,CAAC,KAAK,CAAC,KAAK,KAAK;IACvB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QACpB,SAAS;IACV;AACD;IAEA,2CAAe;;;ADpCf,MAAM,6BAA2B;AAEjC,CAAA,GAAA,wCAAE,EAAE,MAAM,CAAC,4BAAM;IAChB,QAAQ,GAAG,CAAC,CAAC,uBAAuB,EAAE,2BAAK,CAAC;AAC7C","sources":["server.js","app.js"],"sourcesContent":["import app from \"./app.js\";\n\nconst PORT = process.env.PORT || 3000;\n\napp.listen(PORT, () => {\n\tconsole.log(`Server running on port ${PORT}`);\n});\n","import fs from \"fs\";\nimport express from \"express\";\n\nconst app = express();\n\nconst jsonStr = fs.readFileSync(\"./data.json\", { encoding: \"utf-8\" });\nconst idArr = JSON.parse(jsonStr);\n\napp.get(\"/api/:url\", (req, res, next) => {\n\tconst url = req.params.url;\n\tconst obj = idArr.find((obj) => obj.id === url);\n\tif (!obj) {\n\t\tidArr.push({\n\t\t\tid: url,\n\t\t\tcount: 1,\n\t\t});\n\n\t\tfs.writeFileSync(\"./data.json\", JSON.stringify(idArr));\n\n\t\tres.status(200).json({\n\t\t\tid: url,\n\t\t\tcount: 1,\n\t\t});\n\t}\n\n\tobj.count += 1;\n\tfs.writeFileSync(\"./data.json\", JSON.stringify(idArr));\n\tres.status(200).json({\n\t\t...obj,\n\t});\n});\n\napp.use(\"*\", (req, res, next) => {\n\tres.status(404).json({\n\t\tmessage: \"Invalid Operator\",\n\t});\n});\n\nexport default app;\n"],"names":[],"version":3,"file":"main.js.map"}